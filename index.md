# Проект  Шаурма
## Легенда
Компания "Кручу-Верчу" хочет в своих точках продажи шаурмы, ввести учет продуктов и продаж. Для этого они обратились к нам. Нам нужно создать конфигурацию в [[1С]] для учета их работы.
## Цель
Работающая конфигурация на платформе 1с позволяющая отслеживать процессы происходящие в компании
## Задача
Создать конфигурацию [[1С]] и соответствовать требованиям
- Разделена на различные роли работы с ней
- Хранить текущее количество продуктов и их сроки годности
- Хранить рецепты/граммовки 
- При продаже одной шаурмы списывать определенное количество ингредиентов в граммах, штуках и т.д. согласно рецепту
### Функциональные требования
- Нужно иметь возможность узнать кто создал справочник или документ
- Возможность ввода/хранения различных ингредиентов
- Возможно ввода/хранения различных организаций, у которых закупается товар
- Хранить подробную информацию об организациях(Директор, Адрес, Телефон, E-mail)
- Хранить подробную информацию о людях - это как работники, так и другие люди которые попадают в базу. Так же Адрес, Телефон, E-mail, Дата Рождения, Пол и т.д.
- Добавление/удаление новых позиций для продажи
- Фиксация цен для продажи
- Фиксация времени работы продавца
- Фиксация количества проданного товара
- Различные отчеты
### Пользователи/Роли
- Администратор - имеет полные права
- Руководитель - Имеет почти полные права. Не имеет права непосредственного удаления документов. Не имеет прав на какие-то административные объекты
- Закупщик - ведет склад и закупает ингредиенты
- Продавец - продает, видит только то что ему нужно для работы
## Инструменты
- [[1С]]
- [[1C Конфигуратор]] - понадобится для создания конфигурации
- [[Консоль запросов]] - понадобится для отладки запросов
## Этапы
***
### Этап 1 - Подготовка к реализации проекта
1. Установка платформы [[1C Конфигуратор|1C]] 
2. Продумать архитектуру хранения 
> [!help]-
> Для более правильной организации архитектуры приложения, можно попробовать зарисовать схему. Что где планируем хранить и как взаимодействовать.
> ![[Pasted image 20231209182421.png]]
3. Создать объекты метаданных требующиеся для хранения данных об организации
4. Настроить запись автора Справочника/Документа. Фиксируем того кто создал справочник. 
>[!hint]- Дополнительно
>Можно фиксировать и последнего изменившего справочник или документ
5. В контрагенте в зависимости от типа контрагента выводить информацию из ФизЛица. 
	1. Если это тип Организация, то информацию об организации и информацию о директоре. Чтобы не надо было заходить в физ лицо, а видеть ее сразу.
	2. Если это другой тип, делаем аналогично
6. Аналогично делаем и для справочника Пользователи
7. Для ФизЛиц сделать так, если вводим ФИО, автоматически формируется Фамилия Имя Отчество и записывается в соответствующие поля
8. Вообщем делаем все чтобы удобно было работать со справочниками. Доставать телефоны адреса и т.д. если они вдруг понадобятся.
***
### Этап 2 - Создание документов и логики
1. Создаем документ закупка. С документом закупка работает только закупщик. 
2. У каждого закупщика свои поставщики, поставщиков коллеги-закупщика он видеть не должен
3. В зависимости от темы конфигурации мы должны закупать какие-то позиции номенклатур.
4. Создать документ продажа. Его видят только продавцы. Продаем мы товар который собираем из закупленной номенклатуры.  То есть в одной продаже наименование одно, но тратим мы ингредиенты. 
5. Создать документ рецепта, он описывает какие позиции идут на создание товара. Этот документ доступен для редактирования только руководителю.
6. Если у нас что-то имеющее срок годности, этот момент тоже надо как-то продумать. Например сделать документ корректировок. И в нем писать причину корректировки. 
***
### Этап 3 - Отчетность
Для работы организации нужно чтобы был контроль. Для этого потребуются отчеты.
1. Отчет об остатках
2. Отчет об сроках хранения
3. Отчет о продажах. Кто, сколько продал. Средние продажи в день.
4. Отчет о закупках. 
5. Продавцы в зависимости от продаж получают ЗП(Фикс + Процент от продаж). Сделать отчет или документ, где будет отражено сколько получит продавец за месяц.
6. Аналогично можно поступить и с закупщиками, сделать им премию. 
***
### Этап 4 - Наводим лоск
1. В нашем приложении считаем что как только мы создали документ закупка, все уже на складе. Поэтому каждое утро должно запускаться регламентное задание, которое создает документы на закупку определенного количества товара для каждого закупщика(у каждого закупщика свой поставщик), чтобы точно хватило ингредиентов на день. У кого из поставщиков последняя цена была выгоднее у того и закупаем. 
2. Создаем Печатные формы для всех документов. 
3. В документе закупка делаем кнопку заполнить, она автоматически должна заполнять документ нужным количеством товара, чтобы хватило 
4. В документе продажа в текущем случае я продаю неизвесному клиенту, предусмотреть возможность продавать и известному клиенту и делать ему скидку.

